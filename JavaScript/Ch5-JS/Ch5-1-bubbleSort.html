<!--
Ch5-1-bubbleSort.html
實作氣泡排序演算法(函數版)
函數: swap, one_bubble
版本: 1.0
-->

<html>
<body>

<script>
// ----- 函數swap: 交換data中，位置x, y的兩筆資料 -----
function swap(data, x, y){
    var temp = data[x];
    data[x] = data[y];
    data[y] = temp;
}

// ----- 函數one_bubble: 將目前最大的數移到最右邊 -----
function one_bubble(data, end_index){
    for(var j = 0; j < end_index; j++){ // end_index之後(右邊)的數已排好，不需要再排
        if(data[j] > data[j+1]){        // 相鄰兩數比大小，當左邊比右邊大時
            swap(data, j, j+1);         // 交換兩數(大的右移)
        }
    }
}

// ===== 主程式開始 =====
var data = [4, 1, 3, 5, 2];
var data_count = data.length;       // 資料數 = 陣列長度 = 5個

// ----------
for(var i = 0; i < data_count - 1; i++){            // 5個數字，只需排4次，最後一個數會自動排好
    one_bubble(data, data_count-1-i);               // 最右邊的i個數已排好，不需要再排
    console.log('第' + (i+1) + '回合結果: ' + data);// 印出每回合的結果
}
console.log('排序結束');
// ===== 主程式結束 =====
</script>

</body>
</html>
